# 常见问题与排障

- 适用版本：`v2.0.6`
- 最后更新：`2026-02-07`

本页采用“现象 -> 原因 -> 动作”格式，便于快速定位。

## 1) 增加模型后仍不可见

**可能原因**

- 修改了非当前生效的插件目录
- 选择了错误的 `index-*.js`
- VS Code/插件未重启
- 仅增强规则未更新（已有 warning）

**排查动作**

1. 重新扫描插件，确认目标版本
2. 重新选择 index 文件并执行增模
3. 完整重启 VS Code
4. 必要时先恢复备份再重试

## 2) VS Code 启动后未自动打开侧栏

**可能原因**

- 当前 `code` CLI 不支持 `--command`
- 插件版本命令行为差异

**排查动作**

- 先确认工作区是否已正常打开
- 再尝试“继续该会话（VS Code）”验证 URI/命令路径
- 若仅侧栏未自动打开，属于可回退场景，不影响基础可用

## 3) 接口检测显示 200 但仍失败

**机制说明**

检测逻辑不是“只看状态码”，还会校验响应结构与关键字段。

**排查动作**

- 查看诊断详情中的具体失败项
- 检查中转层是否改写/裁剪响应
- 用同账号在目标客户端交叉验证

## 4) Team 账号应用失败

**可能原因**

- Team 缺少 Org ID
- API Key 与 Base URL 不匹配
- 认证文件写入失败

**排查动作**

1. 核查 Team 字段完整性
2. 重新应用账号并观察提示
3. 检查 `~/.codex/auth.json` 可写性

## 5) 会话搜索较慢

**可能原因**

- history 未命中，进入深度扫描
- 扫描范围过大

**排查动作**

- 缩小最近天数
- 降低最大扫描数量
- 优化关键词并切换 AND/OR 模式

## 6) WebView 问题反复出现

**动作说明**

「WebView错误修改」会执行：

- 结束 VS Code 相关进程
- 清理缓存/存储目录
- 重启 VS Code

**建议**

- 修复前保存未提交工作
- 修复后首次启动慢是缓存重建的正常现象

## 7) 日志收集

关键日志：`~/.codex/codex_switcher.log`

建议同时记录：

- 问题复现步骤
- 页面提示截图
- 日志对应时间段
